"use strict";
(self["webpackChunkfront"] = self["webpackChunkfront"] || []).push([["bundle"],{

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
const socket_io_client_1 = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/build/cjs/index.js");
const server = (0, socket_io_client_1.io)('/');
let myid;
let nick;
let room;
let chat;
server.on('log', d => myid = d);
const type_con = {
    'stock': '코인',
    'onecard': '원카드',
    'poker': '포커'
};
const log_Div = document.querySelector("div.name");
const start_Btn = document.querySelector("button.start");
const name_Inp = document.querySelector("div.name>input");
const room_Div = document.querySelector("div.room");
let create_Div = document.querySelector("div.create");
const rcbox = document.querySelector('div.rcbox');
const inRoom_Div = document.querySelector('div.inRoom');
const rctitle = document.getElementById('rctitle');
const rctype = document.getElementById('rctype');
const rcplayer = document.getElementById('rcplayer');
const rcpsc = document.getElementById('rcpsc');
const rcps = document.getElementById('rcps');
const rccr = document.querySelector('div.rccr');
const rccc = document.querySelector('div.rccc');
start_Btn.addEventListener('click', login);
name_Inp.addEventListener('keypress', e => e.code === "Enter" ? login() : false);
rcplayer.addEventListener('change', e => {
    rcplayer.value = +(rcplayer.value) > 6 ? '6' : +(rcplayer.value) < 2 ? '2' : rcplayer.value;
});
rcpsc.addEventListener('change', e => {
    rcpsc.checked ? rcps.disabled = false : rcps.disabled = true;
});
function login() {
    if (name_Inp.value.match(/[A-z가-힣0-9ㄱ-ㅎ]/)) {
        log_Div.classList.add('hide');
        room_Div.classList.remove('hide');
        nick = name_Inp.value;
        create_Div.addEventListener('click', e => {
            rcbox.classList.remove('hide');
            rccr.addEventListener('click', e => {
                const r = {
                    title: rctitle.value,
                    type: rctype.value,
                    maxplayer: +(rcplayer.value),
                    pass: rcpsc.checked ? rcps.value : '',
                    players: [{ id: myid, nick }],
                    start: false
                };
                server.emit('createRoom', r);
                rcbox.classList.add('hide');
                room_Div.classList.add('hide');
                inRoom();
            });
            rccc.addEventListener('click', e => rcbox.classList.add('hide'));
        });
        server.emit('loin', '');
    }
    else {
        alert('이름을 다시 입력해주세요');
    }
}
server.on('loadRoom', (d) => {
    for (let i of room_Div.children) {
        i.classList.contains('create') ? false : i.remove();
    }
    d[0].forEach((v, i) => {
        let alt = document.createElement('div');
        let title = document.createElement('div');
        let onwer = document.createElement('div');
        let human = document.createElement('div');
        let type = document.createElement('div');
        let part = document.createElement('button');
        alt.classList.add('alt');
        title.classList.add('title');
        onwer.classList.add('owner');
        human.classList.add('human');
        type.classList.add('type');
        part.classList.add('part');
        title.textContent = v.title;
        onwer.textContent = v.players[0].nick;
        human.textContent = `${v.players.length}/${v.maxplayer}`;
        type.textContent = type_con[v.type];
        part.textContent = '참가';
        alt.append(title, onwer, human, type, part);
        room_Div.append(alt);
        part.addEventListener('click', e => {
            rcbox.classList.add('hide');
            room_Div.classList.add('hide');
            server.emit('joinRoom', { n: i, id: myid, nick });
            server.emit('getR', i);
            inRoom();
        });
    });
});
server.on('getR', (d) => {
    room = d[0];
    chat = d[1];
});
function inRoom() {
    inRoom_Div.classList.remove('hide');
    let chat_form = document.querySelector('.rhal');
    let touchst;
    document.addEventListener('touchstart', e => {
        touchst = e.changedTouches.item(0).clientY;
    });
    document.addEventListener('touchend', e => {
        if ((e.changedTouches.item(0).clientY - touchst) > 150) {
            chat_form.classList.remove('hide');
        }
        else if ((e.changedTouches.item(0).clientY - touchst) < -150) {
            chat_form.classList.add('hide');
        }
    });
    document.addEventListener('keyup', e => {
        (e.code === "ControlLeft") ?
            chat_form.classList.contains('hide') ?
                chat_form.classList.remove('hide') : chat_form.classList.add('hide') : false;
    });
}


/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors"], () => (__webpack_exec__("./src/index.ts")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YnBhY2s6Ly9mcm9udC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbywgU29ja2V0IH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XHJcbmNvbnN0IHNlcnZlciA9IGlvKCcvJylcclxuaW50ZXJmYWNlIHBsYXllcntcclxuICAgIGlkOnN0cmluZyxcclxuICAgIG5pY2s6c3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSByb29te1xyXG4gICAgdGl0bGU6c3RyaW5nLFxyXG4gICAgdHlwZTpzdHJpbmcsXHJcbiAgICBtYXhwbGF5ZXI6bnVtYmVyLFxyXG4gICAgcGFzczpzdHJpbmcsXHJcbiAgICBwbGF5ZXJzOnBsYXllcltdLFxyXG4gICAgc3RhcnQ6Ym9vbGVhblxyXG59XHJcbmxldCBteWlkOnN0cmluZ1xyXG5sZXQgbmljazpzdHJpbmdcclxubGV0IHJvb206cm9vbVxyXG5sZXQgY2hhdDpjaGF0W11cclxuaW50ZXJmYWNlIGNoYXR7bmljazpzdHJpbmcsaWQ6c3RyaW5nLGNvbjpzdHJpbmd9XHJcbnNlcnZlci5vbignbG9nJywgZCA9PiBteWlkID0gZClcclxuY29uc3QgdHlwZV9jb24gPSB7XHJcbiAgICAnc3RvY2snIDogJ+y9lOyduCcsXHJcbiAgICAnb25lY2FyZCcgOiAn7JuQ7Lm065OcJyxcclxuICAgICdwb2tlcicgOiAn7Y+s7LukJ1xyXG59XHJcbmNvbnN0IGxvZ19EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2Lm5hbWVcIikgYXMgSFRNTERpdkVsZW1lbnRcclxuY29uc3Qgc3RhcnRfQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5zdGFydFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudFxyXG5jb25zdCBuYW1lX0lucCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYubmFtZT5pbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50XHJcbmNvbnN0IHJvb21fRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5yb29tXCIpIGFzIEhUTUxEaXZFbGVtZW50XHJcbmxldCBjcmVhdGVfRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5jcmVhdGVcIikgYXMgSFRNTERpdkVsZW1lbnRcclxuY29uc3QgcmNib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucmNib3gnKSBhcyBIVE1MRGl2RWxlbWVudFxyXG5jb25zdCBpblJvb21fRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LmluUm9vbScpIGFzIEhUTUxEaXZFbGVtZW50XHJcblxyXG5jb25zdCByY3RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JjdGl0bGUnKSBhcyBIVE1MSW5wdXRFbGVtZW50XHJcbmNvbnN0IHJjdHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyY3R5cGUnKSBhcyBIVE1MU2VsZWN0RWxlbWVudFxyXG5jb25zdCByY3BsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyY3BsYXllcicpIGFzIEhUTUxJbnB1dEVsZW1lbnRcclxuY29uc3QgcmNwc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmNwc2MnKSBhcyBIVE1MSW5wdXRFbGVtZW50XHJcbmNvbnN0IHJjcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmNwcycpIGFzIEhUTUxJbnB1dEVsZW1lbnRcclxuY29uc3QgcmNjciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5yY2NyJykgYXMgSFRNTERpdkVsZW1lbnRcclxuY29uc3QgcmNjYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5yY2NjJykgYXMgSFRNTERpdkVsZW1lbnRcclxuXHJcbnN0YXJ0X0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvZ2luKVxyXG5uYW1lX0lucC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGUgPT4gZS5jb2RlID09PSBcIkVudGVyXCIgPyBsb2dpbigpIDogZmFsc2UpXHJcblxyXG5yY3BsYXllci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IHtcclxuICAgIHJjcGxheWVyLnZhbHVlID0gKyhyY3BsYXllci52YWx1ZSkgPiA2ID8gJzYnIDogKyhyY3BsYXllci52YWx1ZSkgPCAyID8gJzInIDogcmNwbGF5ZXIudmFsdWVcclxufSlcclxucmNwc2MuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XHJcbiAgICByY3BzYy5jaGVja2VkID8gcmNwcy5kaXNhYmxlZCA9IGZhbHNlIDogcmNwcy5kaXNhYmxlZCA9IHRydWVcclxufSlcclxuXHJcbmZ1bmN0aW9uIGxvZ2luKCl7XHJcbiAgICBpZihuYW1lX0lucC52YWx1ZS5tYXRjaCgvW0EteuqwgC3tnqMwLTnjhLEt44WOXS8pKXtcclxuICAgICAgICBsb2dfRGl2LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxyXG4gICAgICAgIHJvb21fRGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxyXG4gICAgICAgIG5pY2sgPSBuYW1lX0lucC52YWx1ZVxyXG4gICAgICAgIGNyZWF0ZV9EaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgICAgcmNib3guY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXHJcbiAgICAgICAgICAgIHJjY3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6cmN0aXRsZS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOnJjdHlwZS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtYXhwbGF5ZXI6KyhyY3BsYXllci52YWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzczpyY3BzYy5jaGVja2VkID8gcmNwcy52YWx1ZSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcnM6W3tpZDpteWlkLG5pY2t9XSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDpmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VydmVyLmVtaXQoJ2NyZWF0ZVJvb20nLCByKVxyXG4gICAgICAgICAgICAgICAgcmNib3guY2xhc3NMaXN0LmFkZCgnaGlkZScpXHJcbiAgICAgICAgICAgICAgICByb29tX0Rpdi5jbGFzc0xpc3QuYWRkKCdoaWRlJylcclxuICAgICAgICAgICAgICAgIGluUm9vbSgpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJjY2MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHJjYm94LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHNlcnZlci5lbWl0KCdsb2luJywgJycpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsZXJ0KCfsnbTrpoTsnYQg64uk7IucIOyeheugpe2VtOyjvOyEuOyalCcpXHJcbiAgICB9XHJcbn1cclxuXHJcbnNlcnZlci5vbignbG9hZFJvb20nLCAoZDpbcm9vbVtdLGNoYXRbXVtdXSkgPT4ge1xyXG4gICAgZm9yKGxldCBpIG9mIHJvb21fRGl2LmNoaWxkcmVuKXtcclxuICAgICAgICBpLmNsYXNzTGlzdC5jb250YWlucygnY3JlYXRlJykgPyBmYWxzZSA6IGkucmVtb3ZlKClcclxuICAgIH1cclxuICAgIGRbMF0uZm9yRWFjaCgodjpyb29tLCBpOm51bWJlcikgPT4ge1xyXG4gICAgICAgIGxldCBhbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgbGV0IG9ud2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBsZXQgaHVtYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIGxldCB0eXBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBsZXQgcGFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcbiAgICAgICAgYWx0LmNsYXNzTGlzdC5hZGQoJ2FsdCcpXHJcbiAgICAgICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUnKVxyXG4gICAgICAgIG9ud2VyLmNsYXNzTGlzdC5hZGQoJ293bmVyJylcclxuICAgICAgICBodW1hbi5jbGFzc0xpc3QuYWRkKCdodW1hbicpXHJcbiAgICAgICAgdHlwZS5jbGFzc0xpc3QuYWRkKCd0eXBlJylcclxuICAgICAgICBwYXJ0LmNsYXNzTGlzdC5hZGQoJ3BhcnQnKVxyXG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gdi50aXRsZVxyXG4gICAgICAgIG9ud2VyLnRleHRDb250ZW50ID0gdi5wbGF5ZXJzWzBdLm5pY2tcclxuICAgICAgICBodW1hbi50ZXh0Q29udGVudCA9IGAke3YucGxheWVycy5sZW5ndGh9LyR7di5tYXhwbGF5ZXJ9YFxyXG4gICAgICAgIHR5cGUudGV4dENvbnRlbnQgPSB0eXBlX2Nvblt2LnR5cGVdXHJcbiAgICAgICAgcGFydC50ZXh0Q29udGVudCA9ICfssLjqsIAnXHJcbiAgICAgICAgYWx0LmFwcGVuZCh0aXRsZSwgb253ZXIsIGh1bWFuLCB0eXBlLCBwYXJ0KVxyXG4gICAgICAgIHJvb21fRGl2LmFwcGVuZChhbHQpXHJcbiAgICAgICAgcGFydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICByY2JveC5jbGFzc0xpc3QuYWRkKCdoaWRlJylcclxuICAgICAgICAgICAgcm9vbV9EaXYuY2xhc3NMaXN0LmFkZCgnaGlkZScpXHJcbiAgICAgICAgICAgIHNlcnZlci5lbWl0KCdqb2luUm9vbScsIHtuOmksaWQ6bXlpZCxuaWNrfSlcclxuICAgICAgICAgICAgc2VydmVyLmVtaXQoJ2dldFInLCBpKVxyXG4gICAgICAgICAgICBpblJvb20oKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59KVxyXG5cclxuc2VydmVyLm9uKCdnZXRSJywgKGQ6W3Jvb20sIGNoYXRbXV0pID0+IHtcclxuICAgIHJvb20gPSBkWzBdXHJcbiAgICBjaGF0ID0gZFsxXVxyXG59KVxyXG5cclxuZnVuY3Rpb24gaW5Sb29tKCl7XHJcbiAgICBpblJvb21fRGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxyXG4gICAgbGV0IGNoYXRfZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaGFsJykgYXMgSFRNTERpdkVsZW1lbnRcclxuICAgIGxldCB0b3VjaHN0Om51bWJlclxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGUgPT4ge1xyXG4gICAgICAgIHRvdWNoc3QgPSBlLmNoYW5nZWRUb3VjaGVzLml0ZW0oMCkuY2xpZW50WVxyXG4gICAgfSlcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZSA9PiB7XHJcbiAgICAgICAgaWYoKGUuY2hhbmdlZFRvdWNoZXMuaXRlbSgwKS5jbGllbnRZIC0gdG91Y2hzdCkgPiAxNTApe1xyXG4gICAgICAgICAgICBjaGF0X2Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXHJcbiAgICAgICAgfSBlbHNlIGlmKChlLmNoYW5nZWRUb3VjaGVzLml0ZW0oMCkuY2xpZW50WSAtIHRvdWNoc3QpIDwgLTE1MCl7XHJcbiAgICAgICAgICAgIGNoYXRfZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRlJylcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHtcclxuICAgICAgICAoZS5jb2RlID09PSBcIkNvbnRyb2xMZWZ0XCIpID8gXHJcbiAgICAgICAgY2hhdF9mb3JtLmNsYXNzTGlzdC5jb250YWlucygnaGlkZScpID9cclxuICAgICAgICBjaGF0X2Zvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpIDogY2hhdF9mb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKSA6IGZhbHNlXHJcbiAgICB9KVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==